<!-- restaurant/templates/restaurant/manage_restaurant_orders.html -->

<h1>Manage Restaurant Orders</h1>

<div style="display: flex;">
    <!-- Pending Orders Section -->
    <div style="flex: 1; padding-right: 20px;">
        <h2>Pending Orders</h2>
        {% for order, items in pending_orders %}
            <div>
                <p>Order ID: {{ order.id }}</p>
                <p>Customer: {{ order.customer.username }}</p>
                <p>Total Price: ${{ order.total_price }}</p>
                <p>Order Date: {{ order.order_date }}</p>
                <ul>
                    {% for item in items %}
                    <li>{{ item.menu_item.name }} - Quantity: {{ item.quantity }}</li>
                    {% endfor %}
                </ul>
                <form method="POST" action="{% url 'manage_restaurant_orders' %}">
                    {% csrf_token %}
                    <input type="hidden" name="order_id" value="{{ order.id }}">
                    <button type="submit" name="action" value="accept">Accept</button>
                    <button type="submit" name="action" value="reject">Reject</button>
                </form>
            </div>
        {% empty %}
            <p>No pending orders.</p>
        {% endfor %}
    </div>

    <!-- Completed Orders Section -->
    <div style="flex: 1;">
        <h2>Completed Orders</h2>
        {% for order, items in completed_orders %}
            <div>
                <p>Order ID: {{ order.id }}</p>
                <p>Customer: {{ order.customer.username }}</p>
                <p>Total Price: ${{ order.total_price }}</p>
                <p>Order Date: {{ order.order_date }}</p>
                <ul>
                    {% for item in items %}
                        <li>{{ item.menu_item.name }} - Quantity: {{ item.quantity }}</li>
                    {% endfor %}
                </ul>
            </div>
        {% empty %}
            <p>No completed orders.</p>
        {% endfor %}
    </div>
</div>
