<h1 style="color: #694F8E; text-align: center; margin-bottom: 20px;">Manage Restaurant Orders</h1>

<div style="display: flex; gap: 20px;">
    <!-- Pending Orders Section -->
    <div style="flex: 1; background-color: #FFDFD6; padding: 20px; border: 1px solid #E3A5C7; border-radius: 10px;">
        <h2 style="color: #694F8E;">Pending Orders</h2>
        {% for order, items in pending_orders %}
            <div style="margin-bottom: 20px; padding: 10px; border: 1px solid #B692C2; border-radius: 5px;">
                <p><strong>Order ID:</strong> {{ order.id }}</p>
                <p><strong>Customer:</strong> {{ order.customer.username }}</p>
                <p><strong>Total Price:</strong> ${{ order.total_price }}</p>
                <p><strong>Order Date:</strong> {{ order.order_date }}</p>
                <ul style="list-style-type: none; padding: 0;">
                    {% for item in items %}
                        <li style="color: #694F8E;">{{ item.menu_item.name }} - Quantity: {{ item.quantity }}</li>
                    {% endfor %}
                </ul>
                <form method="POST" action="{% url 'manage_restaurant_orders' %}" style="margin-top: 10px;">
                    {% csrf_token %}
                    <input type="hidden" name="order_id" value="{{ order.id }}">
                    <button type="submit" name="action" value="accept" 
                            style="background-color: #694F8E; color: white; padding: 5px 10px; border: none; border-radius: 5px; margin-right: 10px; cursor: pointer;">
                        Accept
                    </button>
                    <button type="submit" name="action" value="reject" 
                            style="background-color: #B692C2; color: white; padding: 5px 10px; border: none; border-radius: 5px; cursor: pointer;">
                        Reject
                    </button>
                </form>
            </div>
        {% empty %}
            <p style="color: #B692C2;">No pending orders.</p>
        {% endfor %}
    </div>

    <!-- Completed Orders Section -->
    <div style="flex: 1; background-color: #FFDFD6; padding: 20px; border: 1px solid #E3A5C7; border-radius: 10px;">
        <h2 style="color: #694F8E;">Completed Orders</h2>
        {% for order, items in completed_orders %}
            <div style="margin-bottom: 20px; padding: 10px; border: 1px solid #B692C2; border-radius: 5px;">
                <p><strong>Order ID:</strong> {{ order.id }}</p>
                <p><strong>Customer:</strong> {{ order.customer.username }}</p>
                <p><strong>Total Price:</strong> ${{ order.total_price }}</p>
                <p><strong>Order Date:</strong> {{ order.order_date }}</p>
                <ul style="list-style-type: none; padding: 0;">
                    {% for item in items %}
                        <li style="color: #694F8E;">{{ item.menu_item.name }} - Quantity: {{ item.quantity }}</li>
                    {% endfor %}
                </ul>
            </div>
        {% empty %}
            <p style="color: #B692C2;">No completed orders.</p>
        {% endfor %}

        <!-- Pagination Controls -->
        <div class="pagination" style="text-align: center; margin-top: 20px;">
            <span class="step-links">
                {% if completed_orders_page.has_previous %}
                    <a href="?page=1" style="color: #694F8E; text-decoration: none; margin-right: 10px;">&laquo; First</a>
                    <a href="?page={{ completed_orders_page.previous_page_number }}" style="color: #694F8E; text-decoration: none; margin-right: 10px;">Previous</a>
                {% endif %}

                <span class="current" style="color: #B692C2;">
                    Page {{ completed_orders_page.number }} of {{ completed_orders_page.paginator.num_pages }}.
                </span>

                {% if completed_orders_page.has_next %}
                    <a href="?page={{ completed_orders_page.next_page_number }}" style="color: #694F8E; text-decoration: none; margin-left: 10px;">Next</a>
                    <a href="?page={{ completed_orders_page.paginator.num_pages }}" style="color: #694F8E; text-decoration: none; margin-left: 10px;">Last &raquo;</a>
                {% endif %}
            </span>
        </div>
    </div>
</div>
